<div class="container">
  <div class="row calendar-header mt-2">
    <div class="col text-center">
      <button class="btn btn-danger mt-1 float-left calendar-button" title="Previous Month" (click)="prevMonth()"><-</button>
      <button class="btn btn-danger mt-1 float-right calendar-button" title="Next Month" (click)="nextMonth()">-></button>
      <h2>{{yearMonth}}</h2>

    </div>
  </div>
  <div class="row justify-content-start calendar-body mb-5">
    <div class="card p-0 m-0" *ngFor="let day of currentMonthDates">

      <div *ngIf="(now.toDateString()===day.calendarDate.toDateString())"
           class="card-body pb-0 pt-2 currentDate" (click)="clickAction(day)">
        <h4 class="card-title">{{day.calendarDate.toDateString().slice(7 , 10)}}, {{day.calendarDate.toDateString().slice(0,3)}}</h4>
        <div *ngIf="!day.isEmpty" class="text-center">
          <div *ngFor="let shift of day.pendingShifts">
            <p class="m-0 emptyShift text-white" *ngIf="shift.users.length<=0 && !shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
            <p class="m-0 UsersOnPShift" *ngIf="shift.users.length>0 && !shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
            <p class="m-0 UserOnShift" *ngIf="shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
          </div>
        </div>
      </div>

      <div *ngIf="(currentMonthSelected.getMonth()!=day.calendarDate.getMonth())"
           class="card-body pb-0 pt-2 datesOutsideMonth" (click)="clickAction(day)">
        <h4 class="card-title">{{day.calendarDate.toDateString().slice(7 , 10)}}, {{day.calendarDate.toDateString().slice(0,3)}}</h4>
        <div *ngIf="!day.isEmpty" class="text-center">
          <div *ngFor="let shift of day.pendingShifts">
            <p class="m-0 emptyShift text-white" *ngIf="shift.users.length<=0 && !shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
            <p class="m-0 UsersOnPShift" *ngIf="shift.users.length>0 && !shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
            <p class="m-0 UserOnShift" *ngIf="shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
          </div>
        </div>
      </div>

      <div *ngIf="(now.toDateString()!==day.calendarDate.toDateString()) && currentMonthSelected.getMonth()===day.calendarDate.getMonth()"
           class="card-body pb-0 pt-2" (click)="clickAction(day)">
        <h4 class="card-title">{{day.calendarDate.toDateString().slice(7 , 10)}}, {{day.calendarDate.toDateString().slice(0,3)}}</h4>
        <div *ngIf="!day.isEmpty" class="text-center">
          <div *ngFor="let shift of day.pendingShifts">
            <p class="m-0 emptyShift text-white" *ngIf="shift.users.length<=0 && !shift.shift.user">
            {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
            <p class="m-0 UsersOnPShift" *ngIf="shift.users.length>0 && !shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
            <p class="m-0 UserOnShift" *ngIf="shift.shift.user">
              {{shift.shift.route.name}} - {{shift.shift.timeStart.toString().slice(11, 16)}}
            </p>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
